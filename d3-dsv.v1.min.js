// https://d3js.org/d3-dsv/ v1.1.2 Copyright 2019 Mike Bostock
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).d3=e.d3||{})}(this,function(e){"use strict";var r={},t={},n=34,o=10,a=13;function u(e){return new Function("d","return {"+e.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function i(e){var r=Object.create(null),t=[];return e.forEach(function(e){for(var n in e)n in r||t.push(r[n]=n)}),t}function f(e,r){var t=e+"",n=t.length;return n<r?new Array(r-n+1).join(0)+t:t}function s(e){var r,t=e.getUTCHours(),n=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((r=e.getUTCFullYear())<0?"-"+f(-r,6):r>9999?"+"+f(r,6):f(r,4))+"-"+f(e.getUTCMonth()+1,2)+"-"+f(e.getUTCDate(),2)+(a?"T"+f(t,2)+":"+f(n,2)+":"+f(o,2)+"."+f(a,3)+"Z":o?"T"+f(t,2)+":"+f(n,2)+":"+f(o,2)+"Z":n||t?"T"+f(t,2)+":"+f(n,2)+"Z":"")}function c(e){var f=new RegExp('["'+e+"\n\r]"),c=e.charCodeAt(0);function d(e,u){var i,f=[],s=e.length,d=0,l=0,p=s<=0,v=!1;function m(){if(p)return t;if(v)return v=!1,r;var u,i,f=d;if(e.charCodeAt(f)===n){for(;d++<s&&e.charCodeAt(d)!==n||e.charCodeAt(++d)===n;);return(u=d)>=s?p=!0:(i=e.charCodeAt(d++))===o?v=!0:i===a&&(v=!0,e.charCodeAt(d)===o&&++d),e.slice(f+1,u-1).replace(/""/g,'"')}for(;d<s;){if((i=e.charCodeAt(u=d++))===o)v=!0;else if(i===a)v=!0,e.charCodeAt(d)===o&&++d;else if(i!==c)continue;return e.slice(f,u)}return p=!0,e.slice(f,s)}for(e.charCodeAt(s-1)===o&&--s,e.charCodeAt(s-1)===a&&--s;(i=m())!==t;){for(var h=[];i!==r&&i!==t;)h.push(i),i=m();u&&null==(h=u(h,l++))||f.push(h)}return f}function l(r,t){return r.map(function(r){return t.map(function(e){return v(r[e])}).join(e)})}function p(r){return r.map(v).join(e)}function v(e){return null==e?"":e instanceof Date?s(e):f.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,r){var t,n,o=d(e,function(e,o){if(t)return t(e,o-1);n=e,t=r?function(e,r){var t=u(e);return function(n,o){return r(t(n),o,e)}}(e,r):u(e)});return o.columns=n||[],o},parseRows:d,format:function(r,t){return null==t&&(t=i(r)),[t.map(v).join(e)].concat(l(r,t)).join("\n")},formatBody:function(e,r){return null==r&&(r=i(e)),l(e,r).join("\n")},formatRows:function(e){return e.map(p).join("\n")}}}var d=c(","),l=d.parse,p=d.parseRows,v=d.format,m=d.formatBody,h=d.formatRows,C=c("\t"),g=C.parse,w=C.parseRows,T=C.format,y=C.formatBody,j=C.formatRows;var A=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=function(e){for(var r in e){var t,n,o=e[r].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(t=+o)){if(!(n=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;A&&n[4]&&!n[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=t;else o=null;e[r]=o}return e},e.csvFormat=v,e.csvFormatBody=m,e.csvFormatRows=h,e.csvParse=l,e.csvParseRows=p,e.dsvFormat=c,e.tsvFormat=T,e.tsvFormatBody=y,e.tsvFormatRows=j,e.tsvParse=g,e.tsvParseRows=w,Object.defineProperty(e,"__esModule",{value:!0})});
