(function(){d3.hexbin=function(){function u(n){var r={};return n.forEach(function(n,t){var a=f.call(u,n,t)/o,e=Math.round(a),h=s.call(u,n,t)/i-(1&e?.5:0),c=Math.round(h),l=a-e;if(3*Math.abs(l)>1){var g=h-c,v=c+(c>h?-1:1)/2,M=e+(e>a?-1:1),d=h-v,m=a-M;g*g+l*l>d*d+m*m&&(c=v+(1&e?1:-1)/2,e=M)}var x=c+"-"+e,j=r[x];j?j.push(n):(j=r[x]=[n],j.x=(c+(1&e?.5:0))*i,j.y=e*o)}),d3.values(r)}function a(){var r=0,t=0;return n.map(function(n){var u=Math.sin(n)*radius,a=-Math.cos(n)*radius,e=u-r,i=a-t;return r=u,t=a,[e,i]})}var e,i,o,h=1,c=1,s=r,f=t;return u.x=function(n){return arguments.length?(s=n,u):s},u.y=function(n){return arguments.length?(f=n,u):f},u.hexagon=function(n){return 1>arguments.length&&(n=e),"m"+a().join("l")+"z"},u.mesh=function(){for(var n=[],r=a().slice(0,4).join("l"),t=0,u=!1;c+e>t;t+=o,u=!u)for(var s=u?i/2:0;h>s;s+=i)n.push("M",s,",",t,"m",r);return n.join("")},u.size=function(n){return arguments.length?(h=+n[0],c=+n[1],u):[h,c]},u.radius=function(n){return arguments.length?(e=+n,i=2*e*Math.sin(Math.PI/3),o=1.5*e,u):e},u.radius(1)};var n=d3.range(0,2*Math.PI,Math.PI/3),r=function(n){return n[0]},t=function(n){return n[1]}})();