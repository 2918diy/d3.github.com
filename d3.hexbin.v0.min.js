(function(){d3.hexbin=function(){function u(n){var t={};return n.forEach(function(n,r){var a=s.call(u,n,r)/e,o=Math.round(a),h=f.call(u,n,r)/i-(1&o?.5:0),c=Math.round(h),l=a-o;if(3*Math.abs(l)>1){var g=h-c,M=c+(c>h?-1:1)/2,v=o+(o>a?-1:1),m=h-M,d=a-v;g*g+l*l>m*m+d*d&&(c=M+(1&o?1:-1)/2,o=v)}var p=c+"-"+o,j=t[p]||(t[p]={i:c,j:o,points:[]});j.points.push(n)}),d3.values(t)}var a,i,e,o,h=1,c=1,f=t,s=r;return u.x=function(n){return arguments.length?(f=n,u):f},u.y=function(n){return arguments.length?(s=n,u):s},u.point=function(n){return[(n.i+(1&n.j?.5:0))*i,n.j*e]},u.hexagon=function(n){return(arguments.length?"M"+u.point(n)+"m":"M")+o.join("l")+"Z"},u.mesh=function(){for(var n=[],t=o.slice(0,4).join("l"),r=0,u=!1;c+a>r;r+=e,u=!u)for(var f=u?i/2:0;h>f;f+=i)n.push("M",f,",",r,"m",t);return n.join("")},u.size=function(n){return arguments.length?(h=+n[0],c=+n[1],u):[h,c]},u.radius=function(t){if(!arguments.length)return a;a=+t,i=2*a*Math.sin(Math.PI/3),e=1.5*a;var r=0,h=0;return o=n.map(function(n){var t=Math.sin(n)*a,u=-Math.cos(n)*a,i=t-r,e=u-h;return r=t,h=u,[i,e]}),u},u.radius(1)};var n=d3.range(0,2*Math.PI,Math.PI/3),t=function(n){return n[0]},r=function(n){return n[1]}})();