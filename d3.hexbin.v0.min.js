(function(){d3.hexbin=function(){function u(n){var r={};return n.forEach(function(n,t){var a=s.call(u,n,t)/i,o=Math.round(a),h=f.call(u,n,t)/e-(1&o?.5:0),c=Math.round(h),l=a-o;if(3*Math.abs(l)>1){var v=h-c,g=c+(c>h?-1:1)/2,M=o+(o>a?-1:1),m=h-g,d=a-M;v*v+l*l>m*m+d*d&&(c=g+(1&o?1:-1)/2,o=M)}var x=c+"-"+o,j=r[x];j?j.push(n):(j=r[x]=[n],j.x=(c+(1&o?.5:0))*e,j.y=o*i)}),d3.values(r)}var a,e,i,o,h=1,c=1,f=r,s=t;return u.x=function(n){return arguments.length?(f=n,u):f},u.y=function(n){return arguments.length?(s=n,u):s},u.hexagon=function(){return"m"+o.join("l")+"z"},u.mesh=function(){for(var n=[],r=o.slice(0,4).join("l"),t=0,u=!1;c+a>t;t+=i,u=!u)for(var f=u?e/2:0;h>f;f+=e)n.push("M",f,",",t,"m",r);return n.join("")},u.size=function(n){return arguments.length?(h=+n[0],c=+n[1],u):[h,c]},u.radius=function(r){if(!arguments.length)return a;a=+r,e=2*a*Math.sin(Math.PI/3),i=1.5*a;var t=0,h=0;return o=n.map(function(n){var r=Math.sin(n)*a,u=-Math.cos(n)*a,e=r-t,i=u-h;return t=r,h=u,[e,i]}),u},u.radius(1)};var n=d3.range(0,2*Math.PI,Math.PI/3),r=function(n){return n[0]},t=function(n){return n[1]}})();